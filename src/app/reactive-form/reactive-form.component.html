<h1>Reactive form </h1>

<form (ngSubmit)="onSubmitForm()" [formGroup]="contactForm">
    <div>
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="firstName" formControlName="firstName"   >
      <span *ngIf=""></span>
    </div>
    <div>
      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" name="lastName" formControlName="lastName" >
      <span *ngIf="contactForm.get('lastName')?.invalid && contactForm.get('lastName')?.touched" class="error">*Lastname is required</span>

    </div>
    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" formControlName="email" >
      <!-- <span *ngIf="contactForm.get('email').invalid" class="error">*Email is required</span> -->
      <span *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" class="error">*Email is required and must be a valid email address</span>

    </div>
    <div>
      <label>Gender:</label>
      <label><input type="radio" name="gender" value="male" formControlName="gender"> Male</label>
      <label><input type="radio" name="gender" value="female" formControlName="gender"> Female</label>
    </div>
    <div>
      <label><input type="checkbox" name="married" formControlName="isMarried"> Married</label>
    </div>
    <div>
      <label for="country">Country:</label>
      <select id="country" name="country" formControlName="country">
        <option value="1">IND</option>
        <option value="2">USA</option>
        <option value="3">UK</option>
        <option value="4">INDUS</option>
        <option value="5">AUS</option>
        
      </select>
    </div>
<!-- nested formgroup -->
    <div formGroupName="address">
        <label for="state">state:</label>
    <input type="text" id="state" name="state" formControlName="state">

    <label for="city">city:</label>
    <input type="text" id="city" name="city" formControlName="city">

    <label for="Pincode">Pincode:</label>
    <input type="text" id="age" name="Pincode" formControlName="pinCode">
    <span *ngIf="contactForm.get('address.pinCode')?.invalid && contactForm.get('address.pinCode')?.touched ">*Pincode is required</span>


    


    </div>
<!-- nested formgroup  -->

<div formArrayName="skills">
  <div *ngFor="let control of contactForm.get('skills')['controls']; let i = index" class="addskill d-flex align-items-center mb-10">
    <input type="text"   placeholder="Add skills..." [formControlName]="i" class="mb-0 ">
  <button type="button" (click)="deleteSkill(i)" >Delete</button>
  </div>

</div>



<button type="button" (click)="Addskill()" class="mt-10">Add skill</button>


<div formArrayName="skillsGrp">
  <div *ngFor="let ski of contactForm.get('skillsGrp')['controls']; let i=index" [formGroupName]="i">
    <div class="form-group">
      <h3>Experience {{ i +1}}</h3>
      <label for="experience">Company name:</label>
      <input type="text" id="experience" name="experience" class="form-control" formControlName="experience">
    </div>
    
    <div class="d-flex justify-content-between">
  
      <div class="form-group w-50">
        <label for="role">IT Role:</label>
        <select id="role" name="role" class="form-control"  formControlName="role">
          <option value="">Select Role</option>
          <option value="Developer">Developer</option>
          <option value="Designer">Designer</option>
          <option value="Engineer">Engineer</option>
          <option value="Manager">Manager</option>
          <option value="Analyst">Analyst</option>
        </select>
      </div>
  
      <div class="form-group ">
        <label for="texperience">Total experience</label>
        <input type="number" id="texperience" name="texperience" class="form-control" formControlName="texperience">
      </div>
  
    </div>
  
    <div class="d-flex justify-content-between mb-10">
      <div class="form-group">
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" name="startDate" class="form-control"  formControlName="startDate">
      </div>
      
      <div class="form-group">
        <label for="endDate">End Date:</label>
        <input type="date" id="endDate" name="endDate" class="form-control"  formControlName="endDate">
      </div>
      
    </div>   
    
    <button type="button" class="btn btn-danger" (click)="delexp(i)">Delete</button>
    <hr>
  </div>

  

<button type="button" class="btn btn-primary"  (click)="addexp()">Add Experience</button>

</div>



    <div class="center">
        <button type="submit" >Submit</button>
        <!-- [disabled]="contactForm.invalid" -->
    </div>
  </form>
  